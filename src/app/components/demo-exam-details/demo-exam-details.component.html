<div class="container">
  <mat-card class="card-container">
    <mat-card-header>
      <mat-card-title>{{ data.trPrefix + 'title' | translate: {examId: data.demoExamData.id} }}</mat-card-title>
    </mat-card-header>
    <mat-divider></mat-divider>
    <mat-card-content>
      <mat-form-field class="title-input">
        <mat-label>{{ data.trPrefix + 'enter-exam-title' | translate }}</mat-label>
        <textarea matInput [placeholder]="data.trPrefix + 'exam-title-label' | translate"
                  [(ngModel)]="data.demoExamData.title"></textarea>
      </mat-form-field>

      <div class="info-body-container" fxLayout="row" fxLayout.lt-md="column" fxLayoutAlign="space-around">
        <div fxFlex="50%" class="data-container exam-info-container">
          <p>{{ data.trPrefix + 'state-name' | translate }}
            : <span class="value-label">
              {{ 'review-states-tests.german-states.' + data.demoExamData.selectedState.name + '.state' | translate }}
            </span>
          <p>{{ data.trPrefix + 'remaining-time' | translate }}
            : <span class="value-label">{{ UtilService.formatTime(data.demoExamData.examTime) | persianNumber }}</span>
          </p>
          <p>{{ data.trPrefix + 'exam-status' | translate }}
            : <span class="value-label">
              {{ data.trPrefix + (data.demoExamData.isExamFinished ? 'exam-done' : 'exam-ongoing') | translate }}
            </span>
          </p>
          <p>{{ data.trPrefix + 'created-label' | translate }}
            : <span class="value-label">
              {{ data.demoExamData.dateCreated | persianNumber }}
            </span>
          </p>
          <p>{{ data.trPrefix + 'modified-label' | translate }}
            : <span class="value-label">
              {{ data.demoExamData.dateLastModified | persianNumber }}
            </span>
          </p>
        </div>

        <span fxShow style="margin: 3px"></span>
        <div fxFlex="50%" class="data-container exam-result-container">
          <p>{{ data.trPrefix + 'finish-reason-label' | translate }}
            : <span class="value-label">
              {{ data.demoExamData.isExamFinished ? (data.trPrefix + 'finish-reason.' + data.demoExamData.finishReason | translate) : '-' }}
            </span>
          </p>
          <p>{{ data.trPrefix + 'correct-answered' | translate }}
            : <span class="value-label">
              {{ data.demoExamData.isExamFinished ? (data.demoExamData.correctAnswered | persianNumber) : '-' }}
            </span>
          </p>
          <p>{{ data.trPrefix + 'incorrect-answered' | translate }}
            : <span class="value-label">
              {{ data.demoExamData.isExamFinished ? (data.demoExamData.incorrectAnswered | persianNumber) : '-' }}
            </span>
          </p>
          <p>{{ data.trPrefix + 'unanswered' | translate }}
            : <span class="value-label">
              {{ data.demoExamData.isExamFinished ? (data.demoExamData.unAnswered | persianNumber) : '-' }}
            </span>
          </p>
          <p>{{ data.trPrefix + 'score' | translate }}
            : <span class="value-label">
              {{ data.demoExamData.isExamFinished ? (data.demoExamData.correctAnswered * 100 / ConstantValues.TOTAL_EXAM_QUESTIONS | number: '2.0-2' | persianNumber) : '-' }}
            </span>
          </p>
          <p>{{ data.trPrefix + 'result-label' | translate }}
            : <span class="value-label"
                    [ngClass]="{
                    'passed': data.demoExamData.isExamFinished && data.demoExamData.correctAnswered >= 17,
                    'failed': data.demoExamData.isExamFinished &&  data.demoExamData.correctAnswered < 17
                    }">
              {{ data.demoExamData.isExamFinished ? (data.trPrefix + (data.demoExamData.correctAnswered >= 17 ? 'passed' : 'failed') | translate) : '-' }}
            </span>
          </p>
        </div>
      </div>

    </mat-card-content>

    <mat-divider></mat-divider>

    <mat-card-actions>
      <button mat-button color="accent" [mat-dialog-close]="userAction.NO">
        {{ data.trPrefix + 'cancel-btn' | translate }}
      </button>
      <button mat-button color="primary" (click)="onUpdateClick()">
        {{ data.trPrefix + 'update-btn' | translate }}
      </button>
      <button mat-button color="warn" (click)="onResetExamClick()">
        {{ data.trPrefix + 'reset-btn' | translate }}
      </button>
    </mat-card-actions>
  </mat-card>
</div>
